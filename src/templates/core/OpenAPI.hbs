{{>header}}

import type { ApiRequestOptions } from './ApiRequestOptions';
import { ApiResult } from './ApiResult';

type Resolver<T> = (options: ApiRequestOptions) => Promise<T | undefined>;
type Headers = Record<string, string>;

export const DEFAULT_BASE_URL = '{{{server}}}';

export interface ClientOptions {
	readonly baseUrl: string;
	readonly accessToken?: string | Resolver<string> | undefined;
	readonly headers?: Headers | Resolver<Headers> | undefined;
	readonly timeoutMsec?: number | undefined;
	readonly onBeforeRequest?: (
    	options: ApiRequestOptions
  	) => ApiRequestOptions | undefined | void;
  	readonly onAfterRequest?: (
    	result: ApiResult<unknown>
  	) => ApiResult<unknown> | undefined | void;
};
